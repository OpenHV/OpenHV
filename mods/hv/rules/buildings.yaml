BASE:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x3Shape
	Selectable:
		Bounds: 60,60
	Valued:
		Cost: 3500
	Tooltip:
		Name: Main Base
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 210000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 10c0
	BaseBuilding:
	BaseProvider:
		Cooldown: 75
		Range: 14c0
	WithBuildingPlacedAnimation:
	Power:
		Amount: 0
	ProvidesPrerequisite@buildingname:
	Buildable:
		Description: Builds structures
	Production:
		Produces: Building, Defense
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Defense:
		ProductionType: Defense
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -250,50,0

GENERATOR:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 40,60
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: base
		Description: Generates power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Power Plant
	ProvidesPrerequisite@buildingname:
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c0
	Power:
		Amount: 100
	Targetable:
		TargetTypes: Ground, Structure
	ScalePowerWithHealth:
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -1500,550,0

RADAR:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^3x3Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: generator
		Description: Provides an overview\nof the battlefield.\nRequires power to operate.
	Valued:
		Cost: 1800
	Tooltip:
		Name: Radar Dome
	Building:
		Footprint: == xx xx
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Targetable:
		TargetTypes: Ground, Structure
	Health:
		HP: 100000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 10c0
		RequiresCondition: !disabled
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	ProvidesRadar:
		RequiresCondition: !disabled
	Power:
		Amount: -40
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -300,350,0

TRADPLAT:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 100
		Description: Repairs and sells vehicles for credits.
	Valued:
		Cost: 1200
	Tooltip:
		Name: Trade Platform
	Building:
		Footprint: x+x x+x x+x
		Dimensions: 3,3
	Selectable:
		Bounds: 40,40
	SelectionDecorations:
	Health:
		HP: 80000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 5c0
	Reservable:
	RallyPoint:
		IsPlayerPalette: true
		Palette: green
	RepairsUnits:
		HpPerStep: 1000
		Interval: 7
		PlayerExperience: 15
	WithResupplyAnimation:
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -250,50,0

MODULE:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 490,-470,0, 355,512,0, -355,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 30
		Prerequisites: generator
		Description: Does nothing.
	Valued:
		Cost: 500
	Tooltip:
		Name: Module
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Steel
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
	RallyPoint:
		IsPlayerPalette: true
		Palette: green
	Exit@1:
		SpawnOffset: -170,810,0
		ExitCell: 1,2
		ProductionTypes: Infantry
	Exit@2:
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Infantry
	Production:
		Produces: Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	PrimaryBuilding:
		PrimaryCondition: primary
	ProductionBar:
		ProductionType: Infantry
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, Structure
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -950,350,0

MINER2:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x3Shape
	Selectable:
		Bounds: 40,60
	Tooltip:
		Name: Miner
	CashTrickler:
	CashTricklerBar:
	WithSpriteBody:
		Sequence: active
	WithMakeAnimation:
		Condition: build-incomplete
	QuantizeFacingsFromSequence:
		Sequence: active
	UpdatesDerrickCount:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
		RequiresBaseProvider: false
		TerrainTypes: Clear, Road, Crater, Grass, Ore
		AllowInvalidPlacement: true # TODO CanPlaceBuilding explicitly prevents placing upon tiles with resources
	-RequiresBuildableArea:
	-GivesBuildableArea:
	RevealsShroud:
		Range: 4c0
	WithShadowOverlay:
		Offset: -2850,750,0
		RequiresCondition: !build-incomplete
	WithConstructionOverlay:
		Sequence: make-shadow-overlay
		Palette: shadow
		Offset: -2850,750,0
	RenderSprites:
		PlayerPalette: green

STARPORT:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x3Shape
	Selectable:
		Bounds: 40,60
	Tooltip:
		Name: Starport
	Buildable:
		Queue: Building
		BuildPaletteOrder: 120
		Prerequisites: radar
		Description: Produces and reloads\nhelicopters.
	Valued:
		Cost: 700
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Health:
		HP: 80000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 5c0
	WithResupplyAnimation:
	Exit@1:
		SpawnOffset: 0,-256,0
		ExitCell: 0,0
		Facing: 224
	RallyPoint:
		IsPlayerPalette: true
		Palette: green
	Production:
		Produces: Aircraft, Helicopter
	Reservable:
	ProductionBar:
		ProductionType: Aircraft
	PrimaryBuilding:
		PrimaryCondition: primary
	Power:
		Amount: -10
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, Structure
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -400,250,0

FACTORY2:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 40,40
	Buildable:
		Prerequisites: base
		Queue: Building
		BuildPaletteOrder: 90
		Description: Builds Vehicles.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Light Factory
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 35000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c768
	RallyPoint:
		Offset: 0,3
		IsPlayerPalette: true
		Palette: green
	Exit@1:
		SpawnOffset: 256,192,0
		ExitCell: 0,2
		ProductionTypes: Wheeled, Vehicle
	Production:
		Produces: Wheeled, Vehicle
	PrimaryBuilding:
		PrimaryCondition: primary
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -850,300,0

FACTORY3:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 40,40
	Buildable:
		Prerequisites: base
		Queue: Building
		BuildPaletteOrder: 90
		Description: Builds Tanks.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Heavy Factory
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 35000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c768
	RallyPoint:
		Offset: 0,3
		IsPlayerPalette: true
		Palette: green
	Exit@1:
		SpawnOffset: 256,192,0
		ExitCell: 0,2
		ProductionTypes: Tracked, Vehicle
	Production:
		Produces: Tracked, Vehicle
	PrimaryBuilding:
		PrimaryCondition: primary
	ProductionBar:
		ProductionType: Infantry
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -1350,350,0

TURRET:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 32,32
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 400,-400,0, 400,400,0, -400,-400,0, -400,400,0
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: generator
		Description: Base defense.\nRequires power to operate.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Turret
	Building:
		Footprint: == xx
		Dimensions: 2,2
		LocalCenterOffset: -100,100,0
	Targetable:
		TargetTypes: Ground, Structure
	Health:
		HP: 10000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 15c0
	RevealsShroud@Offline:
		RequiresCondition: !disabled
		Range: 5c0
	Power:
		Amount: -60
	ProvidesPrerequisite@buildingname:
	Armament:
		Weapon: TurretCannon
		LocalOffset: 1200,50,0
	AttackTurreted:
		PauseOnCondition: disabled
	WithSpriteTurret:
	WithTurretAttackAnimation:
		Sequence: shoot
	Turreted:
		TurnSpeed: 30
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -900,250,0

FIELD:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: generator
		BuildLimit: 1
		Description: Errects an electromagnetic barrier\naround a group of units\nfor a short time.\nRequires power to operate.\nMaximum 1 can be built.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Force Field Generator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 40,40
	SelectionDecorations:
	Health:
		HP: 100000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	GrantExternalConditionPower@FORCEFIELD:
		PauseOnCondition: disabled
		ChargeInterval: 3000
		Description: Force Field
		LongDesc: Makes a group of units invulnerable\nfor 30 seconds.
		Duration: 750
		Range: 3
		DisplayRadarPing: True
		Condition: shield
		SupportPowerPaletteOrder: 10
		Icon: shield
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -250,100,0

SILO:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x3Shape
	Selectable:
		Bounds: 40,60
	Valued:
		Cost: 2500
	Tooltip:
		Name: Missile Silo
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 140
		Prerequisites: radar
		BuildLimit: 1
		Description: Launches a nuclear missile.\nRequires power to operate.\nMaximum 1 can be built.\n  Special Ability: Atom Bomb
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Health:
		HP: 100000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	NukePower:
		PauseOnCondition: disabled
		Cursor: ability
		Icon: nuke
		ChargeInterval: 13500
		Description: Atom Bomb
		LongDesc: Drop an atomic bomb\nat a target location.
		MissileWeapon: nuclear
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayBeacon: false
		DisplayRadarPing: true
		FlashType: Nuke
		CameraRange: 10c0
		SupportPowerPaletteOrder: 70
	SupportPowerChargeBar:
	Power:
		Amount: -150
	MustBeDestroyed:
		RequiredForShortGame: false

STORAGE:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 40,40
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 35
		Description: Stores excess refined\ngold and iron.
	Valued:
		Cost: 300
	Targetable:
		TargetTypes: Ground, Structure
	Tooltip:
		Name: Storage
	-GivesBuildableArea:
	-MustBeDestroyed:
	Health:
		HP: 30000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c0
	StoresResources:
		PipCount: 4
		Capacity: 4000
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	Power:
		Amount: -10
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -300,150,0

ARTILLERYTURRET:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 32,32
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 400,-400,0, 400,400,0, -400,-400,0, -400,400,0 #TODO Adjust that
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: generator
		Description: Advanced base defense.\nRequires power to operate.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Artillery Turret
	Building:
		Footprint: == xx
		Dimensions: 2,2
		LocalCenterOffset: -70,-750,0
	Targetable:
		TargetTypes: Ground, Structure
	Health:
		HP: 15000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 15c0
	RevealsShroud@Offline:
		RequiresCondition: !disabled
		Range: 5c0
	Power:
		Amount: -120
	ProvidesPrerequisite@buildingname:
	Armament:
		Weapon: TurretArtillery
		LocalOffset: 1700,0,100 #TODO Adjust that
	AttackTurreted:
		PauseOnCondition: disabled
	WithSpriteTurret:
	WithTurretAttackAnimation:
		Sequence: shoot
	Turreted:
		TurnSpeed: 15
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -1900,100,0

TELEVATR:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x1Shape
	Selectable:
		Bounds: 40,20
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 120
		Prerequisites: radar
		BuildLimit: 1
		Description: Teleports a unit to\nanother televator.\nRequires power to operate.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Televator
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 100000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
		RequiresCondition: !disabled
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	ProvidesPrerequisite@buildingname:
	TeleportNetworkPrimaryExit:
	TeleportNetwork:
		Type: subspace
	RallyPoint:
	Exit:
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary

TELEVTR2:
	Inherits: TELEVATR
	Inherits@shape: ^1x2Shape
	Selectable:
		Bounds: 20,40
	Building:
		Footprint: x x
		Dimensions: 1,2

HARBOR:
	Inherits: ^BaseBuilding
	Selectable:
		Bounds: 40,40
	Buildable:
		Prerequisites: base
		Queue: Building
		BuildPaletteOrder: 90
		Description: Builds ships.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Harbor
	Building:
		Footprint: xxx x=x x=x
		Dimensions: 3,3
		LocalCenterOffset: 150,-512,0
		TerrainTypes: Water
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	Health:
		HP: 35000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c768
	RallyPoint:
		Offset: 1,3
		IsPlayerPalette: true
		Palette: green
	Exit:
		SpawnOffset: -150,-500,0
		ExitCell: 1,3
		ProductionTypes: Ship
		Facing: 90
	Production:
		Produces: Ship
	PrimaryBuilding:
		PrimaryCondition: primary
	ProductionBar:
		ProductionType: Ship
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	WithDecoration@primary:
		RequiresSelection: true
		Image: tags
		Sequence: primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RenderSprites:
		PlayerPalette: green
	WithShadowOverlay:
		Offset: -200,200,0
	WithIdleOverlay@Entry:
		Sequence: idle-entry
	WithIdleOverlay@Production:
		Sequence: production
